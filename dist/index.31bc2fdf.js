!function(e,r,a,t,n){var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},l="function"==typeof o.parcelRequiredd32&&o.parcelRequiredd32,s=l.cache||{},i="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function u(r,a){if(!s[r]){if(!e[r]){var t="function"==typeof o.parcelRequiredd32&&o.parcelRequiredd32;if(!a&&t)return t(r,!0);if(l)return l(r,!0);if(i&&"string"==typeof r)return i(r);var n=new Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n}p.resolve=function(a){var t=e[r][1][a];return null!=t?t:a},p.cache={};var d=s[r]=new u.Module(r);e[r][0].call(d.exports,p,d,d.exports,this)}return s[r].exports;function p(e){var r=p.resolve(e);return!1===r?{}:u(r)}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=s,u.parent=l,u.register=function(r,a){e[r]=[function(e,r){r.exports=a},{}]},Object.defineProperty(u,"root",{get:function(){return o.parcelRequiredd32}}),o.parcelRequiredd32=u;for(var d=0;d<r.length;d++)u(r[d]);var p=u(a);"object"==typeof exports&&"undefined"!=typeof module?module.exports=p:"function"==typeof define&&define.amd&&define((function(){return p}))}({"2nzDi":[function(e,r,a){var t=e("@parcel/transformer-js/src/esmodule-helpers.js"),n=e("./model.js"),o=e("./views/calcTaxView.js"),l=t.interopDefault(o),s=e("./views/calcTaxSummaryView.js"),i=t.interopDefault(s),u=e("./views/federalSummaryView.js"),d=t.interopDefault(u),p=e("./views/provisionalSummaryView.js"),c=t.interopDefault(p);const m=function(){const e=l.default.getSalary();return e?e<0?(l.default.renderError("Enter Positive Salary"),console.error("Enter Positive Salary")):(n.calculateTax(e),i.default.render(n.tax),d.default.render(n.tax),void c.default.render(n.tax)):(l.default.renderError("Empty Salary"),console.error("Empty Salary"))};l.default.addHandlerRender(m)},{"./model.js":"5XrL7","./views/calcTaxView.js":"3Y4W7","./views/calcTaxSummaryView.js":"c1swO","./views/federalSummaryView.js":"jMyaL","./views/provisionalSummaryView.js":"jG4qk","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"5XrL7":[function(e,r,a){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(a),t.export(a,"tax",(()=>l)),t.export(a,"calculateTax",(()=>i));var n=e("./config.js"),o=e("./helper.js");const l={fedTaxToPay:[],fedTaxRateUsed:[],fedIncomeTaxable:[],provTaxToPay:[],provTaxRateUsed:[],provIncomeTaxable:[],salary:0,totalFedTax:0,totalProvTax:0,taxToPay:0,takeHome:0,avgTaxRate:0,marginalTax:0,cppMaxAnnEmpAndEmprContri:0,eiMaxAnnEmpPrem:0},s=function(e,r){let a=e;const t=[],n=[],o=[];return r.filter((r=>e>r.lower)).forEach((r=>{a=e>r.upper?r.upper-r.lower:e-r.lower,o.push(a),t.push(a*(r.taxRate/100)),n.push(r.taxRate)})),{incomeTaxable:o,taxToPay:t,taxRateUsed:n}},i=function(e){console.log(`Annual Gross Salary CAD${(0,o.formatNumberInternational)(e)}`),l.salary=+e,function(e){const{incomeTaxable:r,taxToPay:a,taxRateUsed:t}=s(e,n.FEDRAL_TAX);l.fedIncomeTaxable=[...r],l.fedTaxToPay=[...a],l.fedTaxRateUsed=[...t]}(e),function(e){const{incomeTaxable:r,taxToPay:a,taxRateUsed:t}=s(e,n.ONTARIO);l.provIncomeTaxable=[...r],l.provTaxToPay=[...a],l.provTaxRateUsed=[...t]}(e),function(e){let r=e;e>n.CPP.max_annual_pensionable_earning&&(r=n.CPP.max_annual_pensionable_earning);const a=r-n.CPP.basic_exemption;l.cppMaxAnnEmpAndEmprContri=a*(n.CPP.employee_employer_contribution_rate/100),console.log("Max Annual Emp and Empr Contribution:",(0,o.formatNumberInternational)(l.cppMaxAnnEmpAndEmprContri))}(e),function(e){let r=e;e>n.EI.max_annual_insurable_earnings&&(r=n.EI.max_annual_insurable_earnings),l.eiMaxAnnEmpPrem=r*(n.EI.rate/100),console.log("Max Annual Emp Premium:",(0,o.formatNumberInternational)(l.eiMaxAnnEmpPrem))}(e),l.totalFedTax=l.provTaxToPay.reduce(((e,r)=>e+r)),l.totalProvTax=l.fedTaxToPay.reduce(((e,r)=>e+r)),l.taxToPay=l.totalFedTax+l.totalProvTax,l.takeHome=e-l.taxToPay,l.avgTaxRate=l.taxToPay/e*100,l.marginalTax=Math.max(...l.fedTaxRateUsed)+Math.max(...l.provTaxRateUsed)}},{"./config.js":"cTPit","./helper.js":"gfOnw","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],cTPit:[function(e,r,a){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(a),t.export(a,"PROV_ONTARIO",(()=>n)),t.export(a,"PROV_NEWFOUNDLAND_AND_LABRADOR",(()=>o)),t.export(a,"PROV_PRINCE_EDDWARD_ISLAND",(()=>l)),t.export(a,"PROV_NOVA_SCOTIA",(()=>s)),t.export(a,"PROV_NEW_BRUNSWICK",(()=>i)),t.export(a,"PROV_QUEBEC",(()=>u)),t.export(a,"PROV_MAINTOBA",(()=>d)),t.export(a,"FEDRAL_TAX",(()=>p)),t.export(a,"ONTARIO",(()=>c)),t.export(a,"CPP",(()=>m)),t.export(a,"EI",(()=>f));const n="Ontario",o="Newfoundland and Labrador",l="Prince Edward Island",s="Nova Scotia",i="New Brunswick",u="Quebec",d="Manitoba",p=[{lower:0,upper:50197,taxRate:15},{lower:50197,upper:100392,taxRate:20.5},{lower:100392,upper:155625,taxRate:26},{lower:155625,upper:221708,taxRate:29},{lower:221708,upper:void 0,taxRate:33}],c=[{lower:0,upper:46226,taxRate:5.05},{lower:46226,upper:92454,taxRate:9.15},{lower:92454,upper:15e4,taxRate:11.16},{lower:15e4,upper:22e4,taxRate:12.16},{lower:22e4,upper:void 0,taxRate:13.16}],m={max_annual_pensionable_earning:64900,basic_exemption:3500,max_contributory_earning:61400,employee_employer_contribution_rate:5.7,max_annual_employee_and_employer_contribution:3499.8,max_annual_self_employed_contribution:6999.6},f={max_annual_insurable_earnings:60300,rate:1.58,max_annual_employee_premium:952.74,max_annual_employer_premium:1333.84}},{"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],k3151:[function(e,r,a){a.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},a.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},a.exportAll=function(e,r){return Object.keys(e).forEach((function(a){"default"===a||"__esModule"===a||r.hasOwnProperty(a)||Object.defineProperty(r,a,{enumerable:!0,get:function(){return e[a]}})})),r},a.export=function(e,r,a){Object.defineProperty(e,r,{enumerable:!0,get:a})}},{}],gfOnw:[function(e,r,a){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(a),t.export(a,"formatNumberInternational",(()=>n));const n=function(e){return new Intl.NumberFormat("en-CA",{style:"currency",unit:"celsius",currency:"CAD"}).format(e)}},{"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"3Y4W7":[function(e,r,a){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(a);var n=e("./View.js"),o=t.interopDefault(n);class l extends o.default{_parentElement=document.querySelector(".salary-form");_errorMessage="Incorrect Input";getSalary(){const e=this._parentElement.querySelector(".salary__field").value;return this._clearInput(),e}_clearInput(){this._parentElement.querySelector(".salary__field").value=""}addHandlerRender(e){this._parentElement.addEventListener("submit",(function(r){r.preventDefault(),e()}))}}a.default=new l},{"./View.js":"lslfl","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],lslfl:[function(e,r,a){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(a);a.default=class{_data;render(e,r){this._data=e;const a=this._generateMarkup();this._clear(),this._parentElement.insertAdjacentHTML("afterbegin",a)}renderError(e=this._errorMessage){const r=`\n          <div class="error">\n            <p>${e}</p>\n          </div>\n    `;this._parentElement.insertAdjacentHTML("afterbegin",r)}_clear(){this._parentElement.innerHTML=""}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],c1swO:[function(e,r,a){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(a);var n=e("./View.js"),o=t.interopDefault(n),l=e("../helper.js");class s extends o.default{_parentElement=document.querySelector(".tax-takehome-results");_generateMarkup(){return document.querySelector(".gross-salary").textContent=(0,l.formatNumberInternational)(this._data.salary),`\n          <tr>\n            <td>${(0,l.formatNumberInternational)(this._data.totalFedTax)}</td>\n            <td>${(0,l.formatNumberInternational)(this._data.totalProvTax)}</td>\n            <td>${(0,l.formatNumberInternational)(this._data.taxToPay)}</td>\n            <td>${(0,l.formatNumberInternational)(this._data.takeHome)}</td>\n            <td>${this._data.avgTaxRate.toFixed(2)}%</td>\n            <td>${this._data.marginalTax.toFixed(2)}%</td>\n            <td>${(0,l.formatNumberInternational)(this._data.cppMaxAnnEmpAndEmprContri)}</td>\n            <td>${(0,l.formatNumberInternational)(this._data.eiMaxAnnEmpPrem)}</td>\n          </tr>\n    `}}a.default=new s},{"./View.js":"lslfl","../helper.js":"gfOnw","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],jMyaL:[function(e,r,a){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(a);var n=e("./View.js"),o=t.interopDefault(n),l=e("../helper.js"),s=e("../config.js");class i extends o.default{_parentElement=document.querySelector(".federal-breakdown");_generateMarkup(){let e="";for(let r=0;r<s.FEDRAL_TAX.length;r++){const a=(0,l.formatNumberInternational)(0);e+=`\n          <tr>\n            <td>${s.FEDRAL_TAX[r].taxRate}%</td>       \x3c!-- Tax Rate --\x3e\n            <td>${s.FEDRAL_TAX[r].lower?(0,l.formatNumberInternational)(s.FEDRAL_TAX[r].lower):a}</td> \x3c!-- Bracket Lower Limit --\x3e\n            <td>${s.FEDRAL_TAX[r].upper?(0,l.formatNumberInternational)(s.FEDRAL_TAX[r].upper):a}</td>    \x3c!-- Bracket Upper Limit --\x3e\n            <td>${this._data.fedIncomeTaxable[r]?(0,l.formatNumberInternational)(this._data.fedIncomeTaxable[r]):a}</td>  \x3c!-- Taxable Income --\x3e\n            <td>${this._data.fedTaxToPay[r]?(0,l.formatNumberInternational)(this._data.fedTaxToPay[r]):a}</td>      \x3c!-- Tax to Pay --\x3e\n          </tr>\n          `}return e}}a.default=new i},{"./View.js":"lslfl","../helper.js":"gfOnw","../config.js":"cTPit","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],jG4qk:[function(e,r,a){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(a);var n=e("./View.js"),o=t.interopDefault(n),l=e("../helper.js"),s=e("../config.js");class i extends o.default{_parentElement=document.querySelector(".provisional-breakdown");_generateMarkup(){let e="";for(let r=0;r<s.ONTARIO.length;r++){const a=(0,l.formatNumberInternational)(0);e+=`\n          <tr>\n            <td>${s.ONTARIO[r].taxRate}%</td>       \x3c!-- Tax Rate --\x3e\n            <td>${s.ONTARIO[r].lower?(0,l.formatNumberInternational)(s.ONTARIO[r].lower):a}</td> \x3c!-- Bracket Lower Limit --\x3e\n            <td>${s.ONTARIO[r].upper?(0,l.formatNumberInternational)(s.ONTARIO[r].upper):a}</td>    \x3c!-- Bracket Upper Limit --\x3e\n            <td>${this._data.provIncomeTaxable[r]?(0,l.formatNumberInternational)(this._data.provIncomeTaxable[r]):a}</td>  \x3c!-- Taxable Income --\x3e\n            <td>${this._data.provTaxToPay[r]?(0,l.formatNumberInternational)(this._data.provTaxToPay[r]):a}</td>      \x3c!-- Tax to Pay --\x3e\n          </tr>\n          `}return e}}a.default=new i},{"./View.js":"lslfl","../helper.js":"gfOnw","../config.js":"cTPit","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}]},["2nzDi"],"2nzDi");
//# sourceMappingURL=index.31bc2fdf.js.map
